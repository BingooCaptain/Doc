æˆ‘æ¥Reviewè¿™ä¸ªè¡¥ä¸æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªå¤§è§„æ¨¡çš„ä»£ç é‡æ„ï¼Œä¸»è¦æ¶‰åŠå±æ€§ç³»ç»Ÿçš„æ ‡å‡†åŒ–å’Œå‘½åçº¦å®šçš„ä¸€è‡´æ€§ã€‚

## ä»£ç å®¡æŸ¥ç»“æœ

### ğŸ¯ **ä¸»è¦æ›´æ”¹æ¦‚è¿°**

#### **1. å±æ€§å‘½åæ ‡å‡†åŒ–**
- å°†å…¨å¤§å†™å¸¸é‡ï¼ˆå¦‚ `BACKGROUND`ã€`SHADOW`ã€`OPACITY`ï¼‰æ›¿æ¢ä¸ºPascalå‘½åçº¦å®šï¼ˆå¦‚ `Background`ã€`Shadow`ã€`Opacity`ï¼‰
- ä¿æŒäº†å‘åå…¼å®¹æ€§ï¼Œé€šè¿‡åˆ«åæœºåˆ¶

#### **2. æ–°å¢å±æ€§ç´¢å¼•ç³»ç»Ÿ**
- åœ¨ `ViewEnum.cs` ä¸­æ–°å¢äº† `Index` æšä¸¾å’Œ `GetIndex()` æ–¹æ³•
- é€šè¿‡ `Interop.ViewProperty.GetIndex()` ç»Ÿä¸€è·å–å±æ€§ç´¢å¼•

#### **3. æ–‡æ¡£å’Œæ³¨é‡Šæ›´æ–°**
- æ›´æ–°äº† `CustomView.cs` ä¸­çš„ç¤ºä¾‹ä»£ç 
- ä¿®å¤äº† `DaliEnumConstants.cs` ä¸­çš„æ–‡æ¡£æ³¨é‡Š

### âœ… **ä¼˜ç‚¹**

1. **å‘½åä¸€è‡´æ€§**ï¼šç»Ÿä¸€äº†å±æ€§å‘½åçº¦å®šï¼Œç¬¦åˆC#æ ‡å‡†
2. **å‘åå…¼å®¹æ€§**ï¼šä¿ç•™äº†æ—§çš„å¤§å†™å¸¸é‡ä½œä¸ºåˆ«å
3. **ä»£ç å¯è¯»æ€§**ï¼šæ–°çš„å‘½åçº¦å®šæ›´ç¬¦åˆC#å¼€å‘è€…çš„ä¹ æƒ¯
4. **ç»´æŠ¤æ€§æå‡**ï¼šç»Ÿä¸€çš„ç´¢å¼•ç³»ç»Ÿä¾¿äºç®¡ç†

### âš ï¸ **æ½œåœ¨é—®é¢˜**

#### **1. æ€§èƒ½å½±å“**
```csharp
// æ¯æ¬¡è®¿é—®éƒ½ä¼šè°ƒç”¨P/Invoke
internal static readonly int Background = Interop.ViewProperty.GetIndex((int)Index.Background);
```

**å»ºè®®**ï¼šè€ƒè™‘åœ¨é™æ€æ„é€ å‡½æ•°ä¸­ä¸€æ¬¡æ€§åˆå§‹åŒ–æ‰€æœ‰å±æ€§å€¼ã€‚

#### **2. é”™è¯¯å¤„ç†ç¼ºå¤±**
```csharp
[global::System.Runtime.InteropServices.DllImport(NDalicPINVOKE.Lib, EntryPoint = "CSharp_View_Property_Get_Index")]
public static extern int GetIndex(int property);
```

å¦‚æœåº•å±‚C++å‡½æ•°å¤±è´¥ï¼Œæ²¡æœ‰å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚

#### **3. é­”æ³•æ•°å­—é£é™©**
```csharp
private enum Index
{
    Tooltip,        // 0
    State,          // 1
    SubState,       // 2
    // ...
}
```

æšä¸¾å€¼çš„é¡ºåºä¾èµ–éšå¼æ•°å€¼ï¼Œå®¹æ˜“å‡ºé”™ã€‚

### ï¿½ï¿½ **æ”¹è¿›å»ºè®®**

#### **1. ä¼˜åŒ–æ€§èƒ½**
```csharp
internal class Property
{
    static Property()
    {
        // åœ¨é™æ€æ„é€ å‡½æ•°ä¸­ä¸€æ¬¡æ€§åˆå§‹åŒ–
        Tooltip = Interop.ViewProperty.GetIndex((int)Index.Tooltip);
        State = Interop.ViewProperty.GetIndex((int)Index.State);
        // ...
    }
}
```

#### **2. å¢å¼ºé”™è¯¯å¤„ç†**
```csharp
public static int GetIndex(int property)
{
    int result = Interop.ViewProperty.GetIndex(property);
    if (result < 0)
    {
        throw new InvalidOperationException($"Failed to get property index for {property}");
    }
    return result;
}
```

#### **3. æ˜¾å¼æšä¸¾å€¼**
```csharp
private enum Index
{
    Tooltip = 0,
    State = 1,
    SubState = 2,
    // ...
}
```

#### **4. æ·»åŠ å•å…ƒæµ‹è¯•**
å»ºè®®ä¸ºæ–°çš„å±æ€§ç´¢å¼•ç³»ç»Ÿæ·»åŠ å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰å±æ€§éƒ½èƒ½æ­£ç¡®è·å–ã€‚

### ï¿½ï¿½ **å½±å“è¯„ä¼°**

- **åŠŸèƒ½å½±å“**ï¼šâœ… æ— å½±å“ï¼Œä¿æŒå®Œå…¨å…¼å®¹
- **æ€§èƒ½å½±å“**ï¼šâš ï¸ è½»å¾®ï¼Œæ¯æ¬¡å±æ€§è®¿é—®å¢åŠ ä¸€æ¬¡P/Invokeè°ƒç”¨
- **å…¼å®¹æ€§**ï¼šâœ… å®Œå…¨å…¼å®¹ï¼Œé€šè¿‡åˆ«åæœºåˆ¶
- **ç»´æŠ¤æ€§**ï¼šâœ… æ˜¾è‘—æå‡ï¼Œç»Ÿä¸€çš„å‘½åå’Œç´¢å¼•ç³»ç»Ÿ
- **é£é™©ç­‰çº§**ï¼šâš ï¸ ä½ï¼Œä¸»è¦æ˜¯æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†

### ï¿½ï¿½ **æ€»ç»“**

è¿™æ˜¯ä¸€ä¸ª**é«˜è´¨é‡çš„ä»£ç é‡æ„**ï¼Œä¸»è¦ç›®æ ‡æ˜¯ï¼š

1. **æ ‡å‡†åŒ–å‘½åçº¦å®š**ï¼šç¬¦åˆC#å¼€å‘è§„èŒƒ
2. **ç»Ÿä¸€å±æ€§ç®¡ç†**ï¼šé€šè¿‡ç´¢å¼•ç³»ç»Ÿç®€åŒ–ç»´æŠ¤
3. **ä¿æŒå‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰ä»£ç 

**ä¸»è¦å»ºè®®**ï¼š
1. ä¼˜åŒ–æ€§èƒ½ï¼šåœ¨é™æ€æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–å±æ€§å€¼
2. å¢å¼ºé”™è¯¯å¤„ç†ï¼šæ·»åŠ å¼‚å¸¸å¤„ç†æœºåˆ¶
3. æ˜¾å¼æšä¸¾å€¼ï¼šé¿å…éšå¼æ•°å€¼ä¾èµ–
4. å®Œå–„æµ‹è¯•ï¼šä¸ºæ–°ç³»ç»Ÿæ·»åŠ å•å…ƒæµ‹è¯•

æ•´ä½“è€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªå€¼å¾—çš„é‡æ„ï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡ä»£ç è´¨é‡å’Œç»´æŠ¤æ€§ã€‚å»ºè®®é‡‡ç”¨å¹¶æŒ‰ç…§ä¸Šè¿°å»ºè®®è¿›è¡Œä¼˜åŒ–ã€‚